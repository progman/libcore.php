//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
/**
 * test libcore__unixmicrotime_to_iso8601()
 */
(function()
{
	$__FUNCTION__='libcore__unixmicrotime_to_iso8601';
	$start = libcore__get_unixmicrotime();


	$iso8601 = libcore__unixmicrotime_to_iso8601('1508150177310040');
	if (strcmp($iso8601, "2017-10-16T10:36:17.31004+0000") !== 0)
	{
		echo "ERROR[".$__FUNCTION__."()]: step001\n";
		echo "iso8601:".$iso8601."\n";
		exit(1);
	}

	$iso8601 = libcore__unixmicrotime_to_iso8601('1');
	if (strcmp($iso8601, "1970-01-01T00:00:00.000001+0000") !== 0)
	{
		echo "ERROR[".$__FUNCTION__."()]: step002\n";
		echo "iso8601:".$iso8601."\n";
		exit(1);
	}

	$iso8601 = libcore__unixmicrotime_to_iso8601('1508150177310040', 180);
	if (strcmp($iso8601, "2017-10-16T10:36:17.31004+0300") !== 0)
	{
		echo "ERROR[".$__FUNCTION__."()]: step003\n";
		echo "iso8601:".$iso8601."\n";
		exit(1);
	}

	$iso8601 = libcore__unixmicrotime_to_iso8601('1508150177310040', -180);
	if (strcmp($iso8601, "2017-10-16T10:36:17.31004-0300") !== 0)
	{
		echo "ERROR[".$__FUNCTION__."()]: step004\n";
		echo "iso8601:".$iso8601."\n";
		exit(1);
	}

	$iso8601 = libcore__unixmicrotime_to_iso8601(null);
	if (strcmp($iso8601, "1970-01-01T00:00:00.0+0000") !== 0)
	{
		echo "ERROR[".$__FUNCTION__."()]: step005\n";
		echo "iso8601:".$iso8601."\n";
		exit(1);
	}

	$iso8601 = libcore__unixmicrotime_to_iso8601('aaa', 'bbb');
	if (strcmp($iso8601, "1970-01-01T00:00:00.0+0000") !== 0)
	{
		echo "ERROR[".$__FUNCTION__."()]: step006\n";
		echo "iso8601:".$iso8601."\n";
		exit(1);
	}


	$stop = libcore__get_unixmicrotime();
	echo $__FUNCTION__."(): ".($stop - $start)."\n"; flush();
})();
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
