//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
function libcore__blk_write($handle, $str)
{
	$str_size = strlen($str);
/*
	for ($i = 0; $i < $str_size; $i += $write_size)
	{
		$rc = fwrite($handle, substr($str, $i));
		if ($rc === false) return false;
		$write_size = $rc;
	}
*/
	$str_offset = 0;
	for (;;)
	{
		if ($str_size === $str_offset) break;
		$rc = fwrite($handle, substr($str, $str_offset));
		if ($rc === false) return false;
		$str_offset += $rc;
	}

	return true;
}
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
